---
title: L2 counter contract
description: Deploy a contract in ZKsync Era that has a counter.

---

## L2 Counter

Now that we have an address for the L1 governance contract, we can build, deploy, and test the counter contract on L2.

1. `cd` out of `L1-governance` and initialize the `L2-counter` project:

    ```sh
    npx zksync-cli create L2-counter --template hardhat_solidity
    ```

2. For the purposes of this tutorial, we don't need the example smart contracts and deployment script files generated by `zksync-cli`.
   Run the following commands to remove them:

    ```sh
    cd L2-counter
    rm -rf ./contracts/*
    rm -rf ./scripts/*
    ```

### Create L2 Counter Contract

1. In the `L2-counter/contracts/` directory, create a new file `Counter.sol`.

    ```sh
    touch contracts/Counter.sol
    ```

    This contract contains the address of the governance contract deployed previously on layer 1, and an incrementable
  counter which can only be invoked by the governance contract.

1. Copy/paste the following code into the file:

    ```solidity [Counter.sol]
    :code-import{filePath="cross-chain-governance/L2-counter/contracts/Counter.sol"}
    ```

1. Compile the contract from the `L2-counter` root:

    ::callout{icon="i-heroicons-light-bulb"}
    Compilations happens only after the installation of a compiler.
    ::

    ::code-group

    ```sh [npm]
    npm run compile
    ```

    ```sh [yarn]
    yarn compile
    ```

    ```sh [pnpm]
    pnpm compile
    ```

    ```sh [bun]
    bun compile
    ```

    ::

### Deploy L2 Counter Contract

1. Create a new file inside the `scripts` folder named `deploy.ts`.

    ```sh
    touch scripts/deploy.ts
    ```

1. Copy/paste the following code into `L2-counter/scripts/deploy.ts`, replacing `<GOVERNANCE-ADDRESS>` with the address
   of the Governance contract we just deployed:

    ```typescript [L2-counter/scripts/deploy.ts]
    :code-import{filePath="cross-chain-governance/L2-counter/scripts/deploy.ts"}
    ```

1. Now deploy the contract from the `L2-counter/` folder root to ZKsync Era Sepolia:

    ::code-group

    ```sh [npm]
    npm run deploy
    ```

    ```sh [yarn]
    yarn run deploy
    ```

    ```sh [pnpm]
    pnpm run deploy
    ```

    ```sh [bun]
    bun run deploy
    ```

    ::

    You should see output like this:

    ```txt
    Deploying Counter contract to ZKsyncEraSepolia
    Counter deployed to 0x111C3E89Ce80e62EE88318C2804920D4c96f92bb
    ```

## Read the Counter Value

Now both contracts are deployed, we can create a script to retrieve the value of the counter.

1. Create a new file in the `scripts` folder named `display-value.ts`.

    ```sh
    touch scripts/display-value.ts
    ```

1. Copy and paste in the following code, adding the deployed counter contract address:

    ```ts [L2-counter/scripts/display-value.ts]
    :code-import{filePath="cross-chain-governance/L2-counter/scripts/display-value.ts"}
    ```

1. Run the script:

    ::code-group

    ```sh [npm]
    npx hardhat run ./scripts/display-value.ts
    ```

    ```sh [yarn]
    yarn hardhat run ./scripts/display-value.ts
    ```

    ```sh [pnpm]
    pnpm hardhat run ./scripts/display-value.ts
    ```

    ```sh [bun]
    bun hardhat run ./scripts/display-value.ts
    ```

    ::

    The output should be:

    ```txt
    The counter value is 0
    ```
